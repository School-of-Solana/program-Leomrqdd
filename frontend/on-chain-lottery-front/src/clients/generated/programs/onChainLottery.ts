/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  containsBytes,
  fixEncoderSize,
  getBytesEncoder,
  type Address,
  type ReadonlyUint8Array,
} from 'gill';
import {
  type ParsedClaimIfWinnerInstruction,
  type ParsedCommitDrawInstruction,
  type ParsedDepositInstruction,
  type ParsedInitVaultInstruction,
  type ParsedSettleDrawInstruction,
  type ParsedToggleLockInstruction,
} from '../instructions';

export const ON_CHAIN_LOTTERY_PROGRAM_ADDRESS =
  '4NYnTNsnq6xhph3QV9yKdou9uFuAmAqR236bPu8uXPcc' as Address<'4NYnTNsnq6xhph3QV9yKdou9uFuAmAqR236bPu8uXPcc'>;

export enum OnChainLotteryAccount {
  NetworkState,
  Participant,
  Vault,
}

export function identifyOnChainLotteryAccount(
  account: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): OnChainLotteryAccount {
  const data = 'data' in account ? account.data : account;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([212, 237, 148, 56, 97, 245, 51, 169])
      ),
      0
    )
  ) {
    return OnChainLotteryAccount.NetworkState;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([32, 142, 108, 79, 247, 179, 54, 6])
      ),
      0
    )
  ) {
    return OnChainLotteryAccount.Participant;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([211, 8, 232, 43, 2, 152, 117, 119])
      ),
      0
    )
  ) {
    return OnChainLotteryAccount.Vault;
  }
  throw new Error(
    'The provided account could not be identified as a onChainLottery account.'
  );
}

export enum OnChainLotteryInstruction {
  ClaimIfWinner,
  CommitDraw,
  Deposit,
  InitVault,
  SettleDraw,
  ToggleLock,
}

export function identifyOnChainLotteryInstruction(
  instruction: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): OnChainLotteryInstruction {
  const data = 'data' in instruction ? instruction.data : instruction;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([2, 233, 107, 218, 195, 20, 238, 65])
      ),
      0
    )
  ) {
    return OnChainLotteryInstruction.ClaimIfWinner;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([210, 106, 32, 68, 253, 95, 229, 1])
      ),
      0
    )
  ) {
    return OnChainLotteryInstruction.CommitDraw;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([242, 35, 198, 137, 82, 225, 242, 182])
      ),
      0
    )
  ) {
    return OnChainLotteryInstruction.Deposit;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([77, 79, 85, 150, 33, 217, 52, 106])
      ),
      0
    )
  ) {
    return OnChainLotteryInstruction.InitVault;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([175, 154, 75, 30, 118, 117, 107, 194])
      ),
      0
    )
  ) {
    return OnChainLotteryInstruction.SettleDraw;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([188, 144, 112, 220, 80, 184, 226, 12])
      ),
      0
    )
  ) {
    return OnChainLotteryInstruction.ToggleLock;
  }
  throw new Error(
    'The provided instruction could not be identified as a onChainLottery instruction.'
  );
}

export type ParsedOnChainLotteryInstruction<
  TProgram extends string = '4NYnTNsnq6xhph3QV9yKdou9uFuAmAqR236bPu8uXPcc',
> =
  | ({
      instructionType: OnChainLotteryInstruction.ClaimIfWinner;
    } & ParsedClaimIfWinnerInstruction<TProgram>)
  | ({
      instructionType: OnChainLotteryInstruction.CommitDraw;
    } & ParsedCommitDrawInstruction<TProgram>)
  | ({
      instructionType: OnChainLotteryInstruction.Deposit;
    } & ParsedDepositInstruction<TProgram>)
  | ({
      instructionType: OnChainLotteryInstruction.InitVault;
    } & ParsedInitVaultInstruction<TProgram>)
  | ({
      instructionType: OnChainLotteryInstruction.SettleDraw;
    } & ParsedSettleDrawInstruction<TProgram>)
  | ({
      instructionType: OnChainLotteryInstruction.ToggleLock;
    } & ParsedToggleLockInstruction<TProgram>);
